<h3 id="add-configuration-for-your-server">Add configuration for your Server</h3>

<p>Once you have created your server on Splash account, you can setup your application to work with it.</p>

<p>Here is a default configuration.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># app/config/config.yml</span>
<span class="na">splash</span><span class="pi">:</span>
    <span class="na">connections</span><span class="pi">:</span>
        <span class="na">akeneo</span><span class="pi">:</span>    
            <span class="na">name</span><span class="pi">:</span>           <span class="s">Akeneo for Splash</span>
            <span class="na">id</span><span class="pi">:</span>             <span class="s">ThisIsSplashWsId</span>
            <span class="na">key</span><span class="pi">:</span>            <span class="s">ThisIsYourEncryptionKeyForSplash</span>
            <span class="na">config</span><span class="pi">:</span>
                <span class="na">locale</span><span class="pi">:</span>         <span class="s">en_US</span>
                <span class="na">channel</span><span class="pi">:</span>        <span class="s">ecommerce</span>
                <span class="na">currency</span><span class="pi">:</span>       <span class="s">EUR</span>
                <span class="na">images</span><span class="pi">:</span>         <span class="pi">[</span><span class="s1">'</span><span class="s">image'</span><span class="pi">,</span> <span class="s1">'</span><span class="s">variation_image'</span><span class="pi">]</span>
                <span class="na">infos</span><span class="pi">:</span>
                    <span class="na">logo</span><span class="pi">:</span>       <span class="s">https://akeneo.exemple.com/bundles/pimui/images/info-user.png</span>
</code></pre></div></div>

<p>More details on configuration &amp; options in the main documentation.</p>

<h3 id="add-splash-routing">Add Splash Routing</h3>

<p>In order to access your server, we need add specific routes in Symfony configuration.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># app/config/routing.yml</span>
<span class="na">splash_ws</span><span class="pi">:</span>
    <span class="na">resource</span><span class="pi">:</span> <span class="s2">"</span><span class="s">@SplashBundle/Resources/config/routing.yml"</span>
    <span class="na">prefix</span><span class="pi">:</span> <span class="s">/ws</span>
</code></pre></div></div>

<p>You can customize the path were splash routes are located, but take care of the impacts on rest of the configuration process.</p>

<h3 id="enable-public-access-for-splash-routes">Enable Public Access for Splash Routes</h3>

<p>By default, all access to Akeneo are done after authentification. 
Splash requires a public access to webservices routes, so we need to create a dedicated firewall.</p>

<p>To do that, create a new firewall in Symfony security.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># app/config/security.yml</span>
<span class="na">security</span><span class="pi">:</span>
    <span class="na">firewalls</span><span class="pi">:</span>
<span class="err">	</span>    <span class="c1"># Public Access to Webservices Urls</span>
<span class="err">	</span>    <span class="na">splash</span><span class="pi">:</span>
<span class="err">	</span>        <span class="na">pattern</span><span class="pi">:</span>                        <span class="s">^/ws/splash$</span>
<span class="err">	</span>        <span class="na">security</span><span class="pi">:</span>                       <span class="no">false</span>
<span class="err">	</span>        <span class="na">stateless</span><span class="pi">:</span>                      <span class="no">true</span>

<span class="err">	</span>    <span class="c1"># !! Make sure this firewall is set before the main firewall. !!</span>
<span class="err">	</span>    <span class="na">main</span><span class="pi">:</span>
<span class="err">	</span>        <span class="na">pattern</span><span class="pi">:</span>                        <span class="s">^/</span>
<span class="err">	</span>        <span class="na">provider</span><span class="pi">:</span>                       <span class="s">chain_provider</span>
</code></pre></div></div>
